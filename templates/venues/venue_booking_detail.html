{% extends 'base.html' %}

{% block content %}
<div class="container" style="padding: 4rem 0;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1 style="color: var(--color-primary);">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø² #{{ booking.id }} (Ù…Ø¯ÙŠØ±) ğŸ“‹</h1>
        <a href="{% url 'venue_bookings' booking.venue.id %}" class="btn btn-glass">â†©ï¸ Ø¹ÙˆØ¯Ø© Ù„Ù„Ø­Ø¬ÙˆØ²Ø§Øª</a>
    </div>

    <div class="glass-card" style="margin-bottom: 2rem;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
            <!-- Info -->
            <div>
                <h3 style="color: var(--color-secondary); margin-bottom: 1rem;">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                <p><strong>Ø§Ù„Ù…ÙƒØ§Ù†:</strong> {{ booking.venue.name }}</p>
                <p><strong>Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:</strong> {{ booking.event_type }}</p>
                <p><strong>Ø§Ù„Ø¶ÙŠÙ:</strong> {{ booking.customer.username }} ({{ booking.customer.phone_number|default:"-"
                    }})</p>
                <p><strong>Ø§Ù„ÙˆÙ‚Øª:</strong> {{ booking.start_time|date:"Y-m-d H:i" }}</p>
            </div>

            <!-- Financial -->
            <div>
                <h3 style="color: var(--color-secondary); margin-bottom: 1rem;">Ø§Ù„Ù…Ø§Ù„ÙŠØ©</h3>
                <div style="font-size: 2rem; font-weight: 800; color: var(--color-primary); margin-bottom: 0.5rem;">
                    {{ booking.total_price }} Ø±ÙŠØ§Ù„
                </div>
                <div
                    class="badge {% if booking.status == 'CONFIRMED' %}badge-success{% else %}badge-warning{% endif %}">
                    {{ booking.get_status_display }}
                </div>
            </div>
        </div>

        <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.4); margin: 2rem 0;">

        <!-- Actions -->
        <h3 style="margin-bottom: 1rem;">Ø§ØªØ®Ø§Ø° Ø¥Ø¬Ø±Ø§Ø¡</h3>
        <div style="display: flex; gap: 1rem;">
            {% if booking.status == 'PENDING' %}
            <a href="{% url 'update_booking_status' booking.id 'CONFIRMED' %}" class="btn btn-primary"
                style="background: var(--color-success);">âœ” Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø¬Ø²</a>
            <a href="{% url 'update_booking_status' booking.id 'REJECTED' %}" class="btn btn-primary"
                style="background: var(--color-danger);">âœ– Ø±ÙØ¶</a>
            {% endif %}

            {% if booking.status == 'CONFIRMED' %}
            <a href="{% url 'update_booking_status' booking.id 'COMPLETED' %}" class="btn btn-glass">ğŸ ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°</a>
            <a href="{% url 'update_booking_status' booking.id 'CANCELLED' %}" class="btn btn-glass"
                style="color: var(--color-danger); border-color: var(--color-danger);">â›” Ø¥Ù„ØºØ§Ø¡ Ø§Ø¶Ø·Ø±Ø§Ø±ÙŠ</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}